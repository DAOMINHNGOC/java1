<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>banhang</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
</head>
<body>

<h3>Danh mục hàng hóa</h3>
    <table border="1">
        <tr>
            <td>Iphone9</td>
            <td>$2700</td>
            <td><button onclick="them(this)">Thêm</button></td>
        </tr>
        <tr>
            <td>Samsung Star</td>
            <td>$1500</td>
            <td><button onclick="them(this)">Thêm</button></td>
        </tr>
        <tr>
            <td>Nokia 2020</td>
            <td>$1200</td>
            <td><button onclick="them(this)">Thêm</button></td>
        </tr>
        <tr>
            <td>Sony Xperia</td>
            <td>$1700</td>
            <td><button onclick="them(this)">Thêm</button></td>
        </tr>
    </table>
<h3>Giỏ hàng của bạn</h3>
    <div not-empty>
    <table border="1" id="cart"></table>
    <h3>Tổng số tiền: $<span id="tong">0</span></h3>
    </div>


    <script>
       function them(button){
       var row = button.parentElement.parentElement.cloneNode(true);
       var btnXoa = row.getElementsByTagName("button")[0];
       btnXoa.innerText = "Xóa";
       btnXoa.setAttribute('onclick', 'xoa(this)');
       document.getElementById("cart").appendChild(row);
       tinhtong();
       }
       function xoa(button){
           var row = button.parentElement.parentElement;
           document.getElementById("cart").removeChild(row);
           tinhtong();
    }
    function tinhtong(){
        var cart = document.getElementById("cart");
        var rows = cart.getElementsByTagName("tr");
        var tong = 0;
        for(let i = 0; i <rows.length; i++){
        var cells = rows[i].getElementsByTagName("td");
        var price = cells[1].innerText.substring(1);
        tong += Number(price);
        }
        document.getElementById("tong").innerText = tong;
    }
    </script>
</body>
</html>